# 位运算与常用库函数

C++帮我们实现好了很多有用的函数，我们要避免重复造轮子。

## 位运算

​	`&` 与

​	`|` 或

​	`~` 非

​	`^` 异或

​	`>>` 右移

​	`<<` 左移

常用操作：

​	(1) 求x的第k位数字：`x >> k & 1`

​	(2) `lowbit(x) = x & -x`，返回x的最后一位1（a&~a+1）-a=~a+1

## 常用库函数

### 1. reverse翻转

翻转一个vector：

```cpp
reverse(a.begin(), a.end());
```

翻转一个数组，元素存放在下标1~n：

```cpp
reverse(a + 1, a + 1 + n);
```

### 2. unique去重

返回去重之后的尾迭代器(或指针)，仍然为前闭后开，即这个迭代器是去重之后末尾元素的下一个位置。该函数常用于离散化，利用迭代器(或指针)的减法，可计算出去重后的元素个数。

把一个vector去重：

```cpp
int m = unique(a.begin(), a.end()) - a.begin();
```

把一个数组去重，元素存放在下标1~n：

```cpp
int m = unique(a + 1, a + 1 + n) - (a + 1);
```

### 3. random shuffle 随机打乱

用法与reverse相同

### 4. sort

对两个迭代器(或指针)指定的部分进行快速排序。可以在第三个参数传入定义大

```C++
int a[MAX _SIZE];
bool cmp(int a, int b) {return a > b; }
sort(a + 1, a + 1 + n, cmp);
```

把自定义的结构体 vector 排序，重载"小于号"运算符：

```C++
struct rec{ int id, x, y; }.
vector<rec> a;
bool operator <(const rec &a, const rec &b){.
	return ax< b.xll ax== b.x &&a.x<b.y;
}
sort(a.begin(). a.end());
```

### 5.lower bound/upper bound